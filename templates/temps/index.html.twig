{% extends 'base.html.twig' %}
{% block title 'Temps' %}
{% block body %}
    <div class="container">
        {% include '/arrow/arrowTemps.html.twig' %}
    </div>

<div class="tableauTemps">
    <table id="example" class="table table-striped table-bordered mt-5 text-center"  style="width:100%">

        <thead>
        <tr>
            <th style="width: 3%"></th>
            <th style="width: 5%">Groupe\Temps</th>
            <th style="width: 5%">0.5 h</th>
            <th style="width: 5%">1 h</th>
            <th style="width: 5%">2 h</th>
            <th style="width: 5%">4 h</th>
            <th style="width: 5%">8 h</th>
            <th style="width: 5%">Day 1</th>
            <th style="width: 5%">Day 2</th>
            <th style="width: 5%">Day 3</th>
            <th style="width: 5%">Day 4</th>
            <th style="text-align:center;width:10%;">Ajouter temps <button type="button" data-func="dt-add" class="btn btn-success btn-xs dt-add">
                    <span class="glyphicon glyphicon-plus" aria-hidden="true"></span>
                </button></th>
        </tr>
        </thead>
        <tbody>
        {% for produit in etude.produits %}
        <tr>
            <td><input type="checkbox" class="form-check-input" id="exampleCheck1">
                <label class="form-check-label" for="exampleCheck1"></label>
            </td>

            <td><a href="{{ path('temps.show', {id: produit.id, slug: produit.slug}) }}">{{ produit.groupe }}</a></td>
            <td><input type="checkbox" class="form-check-input" id="exampleCheck1">
                <label class="form-check-label" for="exampleCheck1"></label>
            </td>
            <td><input type="checkbox" class="form-check-input" id="exampleCheck1">
                <label class="form-check-label" for="exampleCheck1"></label>
            </td>
            <td><input type="checkbox" class="form-check-input" id="exampleCheck1">
                <label class="form-check-label" for="exampleCheck1"></label>
            </td>
            <td><input type="checkbox" class="form-check-input" id="exampleCheck1">
                <label class="form-check-label" for="exampleCheck1"></label>
            </td>
            <td><input type="checkbox" class="form-check-input" id="exampleCheck1">
                <label class="form-check-label" for="exampleCheck1"></label>
            </td>
            <td><input type="checkbox" class="form-check-input" id="exampleCheck1">
                <label class="form-check-label" for="exampleCheck1"></label>
            </td>
            <td><input type="checkbox" class="form-check-input" id="exampleCheck1">
                <label class="form-check-label" for="exampleCheck1"></label>
            </td>
            <td><input type="checkbox" class="form-check-input" id="exampleCheck1">
                <label class="form-check-label" for="exampleCheck1"></label>
            </td>
            <td><input type="checkbox" class="form-check-input" id="exampleCheck1">
                <label class="form-check-label" for="exampleCheck1"></label>
            </td>
            <td>

            </td>
        </tr>


{% endfor %}
        </tbody>
    </table>
</div>
    <!-- Modal -->
    <div id="myModal" class="modal fade" role="dialog">
        <div class="modal-dialog">

            <!-- Modal content-->
            <div class="modal-content">
                <div class="modal-header">
                    <button type="button" class="close" data-dismiss="modal">&times;</button>
                    <h4 class="modal-title">Row information</h4>
                </div>
                <div class="modal-body">

                </div>
                <div class="modal-footer">
                    <button type="button" class="btn btn-default" data-dismiss="modal">Close</button>
                </div>
            </div>

        </div>
    </div>

    <div class="container d-flex mt-5" >
        <div class="row d-md-">
            <div class="col md-8">
                <button class="btn btn-light mr-1">Tout</button>
                <button class="btn btn-light mr-1">Aucun</button>
{#                <a href="{{ path('prelevement.index') }}" class="btn btn-primary mr-1">Suivant</a>#}
                {#<a href="{{ path('admin.produit.new') }}" class="btn btn-secondary">Creer</a>#}
                {#<a href="{{  path('admin.produit.edit', {id: produit.id}) }}" class="btn btn-primary">Nouveau groupe</a>#}
            </div>
        </div>
    </div>
    <script>
        $(document).ready(function() {
            //Only needed for the filename of export files.
            //Normally set in the title tag of your page.
            document.title='Simple DataTable';
            // DataTable initialisation
            $('#example').DataTable(
                {
                    "dom": '<"dt-buttons"Bf><"clear">lirtp',
                    "paging": false,
                    "autoWidth": true,
                    "columnDefs": [
                        { "orderable": false, "targets": 5 }
                    ],
                    "buttons": [
                        'colvis',
                        'copyHtml5',
                        'csvHtml5',
                        'excelHtml5',
                        'pdfHtml5',
                        'print'
                    ]
                }
            );
            //Add row button
            $('.dt-add').each(function () {
                $(this).on('click', function(evt){
                    //Create some data and insert it
                    const rowData = [];
                    const table = $('#example').DataTable();
                    //Store next row number in array
                    const info = table.page.info();
                    rowData.push(info.recordsTotal+1);
                    //Some description
                    rowData.push('New Order');
                    //Random date
                    const date1 = new Date(2016, 01, 01);
                    const date2 = new Date(2018, 12, 31);
                    var rndDate = new Date(+date1 + Math.random() * (date2 - date1));//.toLocaleDateString();
                    rowData.push(rndDate.getFullYear()+'/'+(rndDate.getMonth()+1)+'/'+rndDate.getDate());
                    //Status column
                    rowData.push('NEW');
                    //Amount column
                    rowData.push(Math.floor(Math.random() * 2000) + 1);
                    //Inserting the buttons ???
                    rowData.push('<button type="button" class="btn btn-primary btn-xs dt-edit" style="margin-right:16px;"><span class="glyphicon glyphicon-pencil" aria-hidden="true"></span></button><button type="button" class="btn btn-danger btn-xs dt-delete"><span class="glyphicon glyphicon-remove" aria-hidden="true"></span></button>');
                    //Looping over columns is possible
                    //var colCount = table.columns()[0].length;
                    //for(var i=0; i < colCount; i++){			}

                    //INSERT THE ROW
                    table.row.add(rowData).draw( false );
                });
            });
            //Edit row buttons
            // $('.dt-edit').each(function () {
            //     $(this).on('click', function(evt){
            //         $this = $(this);
            //         var dtRow = $this.parents('tr');
            //         $('div.modal-body').innerHTML='';
            //         $('div.modal-body').append('Row index: '+dtRow[0].rowIndex+'<br/>');
            //         $('div.modal-body').append('Number of columns: '+dtRow[0].cells.length+'<br/>');
            //         for(var i=0; i < dtRow[0].cells.length; i++){
            //             $('div.modal-body').append('Cell (column, row) '+dtRow[0].cells[i]._DT_CellIndex.column+', '+dtRow[0].cells[i]._DT_CellIndex.row+' => innerHTML : '+dtRow[0].cells[i].innerHTML+'<br/>');
            //         }
            //         $('#myModal').modal('show');
            //     });
            // });
            //Delete buttons
            // $('.dt-delete').each(function () {
            //     $(this).on('click', function(evt){
            //         $this = $(this);
            //         var dtRow = $this.parents('tr');
            //         if(confirm("Are you sure to delete this row?")){
            //             var table = $('#example').DataTable();
            //             table.row(dtRow[0].rowIndex-1).remove().draw( false );
            //         }
            //     });
            // });
            $('#myModal').on('hidden.bs.modal', function (evt) {
                $('.modal .modal-body').empty();
            });
        });
    </script>
{% endblock %}